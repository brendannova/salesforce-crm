<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <apiVersion>60.0</apiVersion>
    <description>Allow for updating of recommendations when in a status of draft</description>
    <dynamicChoiceSets>
        <name>addBensChoice</name>
        <dataType>Multipicklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>AdditionalBenefits__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>coverStructureChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>CoverStructure__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>designationTypeChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>DesignationType__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>mandateChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>NewInvestmentMandate__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>nsActionChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>NonStandardActionCategory__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>paidByChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>PaidBy__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>phasingFrequencyChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>PhasingFrequency__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>sourceOfFundsChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>SourceOfFunds__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>transferMethod</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>TransferMethod__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>transferType</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>TransferType__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>trustChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Trust__c</picklistField>
        <picklistObject>Recommendation__c</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>amountFormula</name>
        <dataType>Number</dataType>
        <expression>IF({!Get_recommendation.Product__r.ProductType__r.IsProtection__c},{!AmountProtection},{!Amount})</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>defaultInvMan</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISPICKVAL({!Get_recommendation.NewInvestmentMandate__c},&quot;&quot;)),TEXT({!Get_recommendation.NewInvestmentMandate__c}),TEXT({!Get_recommendation.DestinationLegacy__r.OW_Investment_Mandate__c}))</expression>
    </formulas>
    <interviewLabel>Recommendation | edit {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Recommendation | edit</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>Get_recommendation</name>
        <label>Get recommendation</label>
        <locationX>176</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_clients</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Recommendation__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_recommendation</name>
        <label>Update recommendation</label>
        <locationX>176</locationX>
        <locationY>566</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>AdditionalBenefits__c</field>
            <value>
                <elementReference>Additional_benefits</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Amount__c</field>
            <value>
                <elementReference>amountFormula</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CashBuildUpDetails__c</field>
            <value>
                <elementReference>Cash_build_up_details</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>DeferralPeriod__c</field>
            <value>
                <elementReference>Deferral_period</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>DesignationType__c</field>
            <value>
                <elementReference>Designation_type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Designation__c</field>
            <value>
                <elementReference>Designation.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>DestinationLegacy__c</field>
            <value>
                <elementReference>Destination.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EarliestFulfilmentDate__c</field>
            <value>
                <elementReference>Earliest_fulfilment_date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Employment__c</field>
            <value>
                <elementReference>Employer.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EndDate__c</field>
            <value>
                <elementReference>End_date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EstimatedPremium__c</field>
            <value>
                <elementReference>Estimated_premium</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ExpectedTaxRelief__c</field>
            <value>
                <elementReference>Expected_tax_relief</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FulfilmentDeadline__c</field>
            <value>
                <elementReference>Fulfilment_deadline</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>InvestmentMandate__c</field>
            <value>
                <elementReference>Investment_mandate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>JointOwner__c</field>
            <value>
                <elementReference>JointOwner.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>NewInvestmentMandate__c</field>
            <value>
                <elementReference>Investment_mandate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>NonStandardActionCategory__c</field>
            <value>
                <elementReference>Non_standard_action_category</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>NonStandardActionInstruction__c</field>
            <value>
                <elementReference>Non_standard_action_instructions</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PaidBy__c</field>
            <value>
                <elementReference>Paid_by</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PhasingFrequency__c</field>
            <value>
                <elementReference>Phasing_frequency</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PhasingNotes__c</field>
            <value>
                <elementReference>Phasing_notes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PhasingPeriod__c</field>
            <value>
                <elementReference>Phasing_period</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PreRequisiteRecommendationSource__c</field>
            <value>
                <elementReference>PreRequisiteSource.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PreRequisiteRecommendation__c</field>
            <value>
                <elementReference>PreRequisiteDestination.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PrimaryOwner__c</field>
            <value>
                <elementReference>PrimaryOwner.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RegisteredContact__c</field>
            <value>
                <elementReference>RegisteredContact.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SourceLegacy__c</field>
            <value>
                <elementReference>Source.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SourceOfFunds__c</field>
            <value>
                <elementReference>Source_of_funds</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Term__c</field>
            <value>
                <elementReference>Term</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TransferMethod__c</field>
            <value>
                <elementReference>Transfer_method</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TransferNotes__c</field>
            <value>
                <elementReference>Transfer_notes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TransferType__c</field>
            <value>
                <elementReference>Transfer_type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Trust__c</field>
            <value>
                <elementReference>Trust</elementReference>
            </value>
        </inputAssignments>
        <object>Recommendation__c</object>
    </recordUpdates>
    <screens>
        <name>Edit_recommendation</name>
        <label>Edit recommendation</label>
        <locationX>176</locationX>
        <locationY>458</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Update_recommendation</targetReference>
        </connector>
        <fields>
            <name>Owner_details</name>
            <fieldText>Owner details</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Owner_details_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>PrimaryOwner</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>PrimaryOwner__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Primary owner</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>required</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.PrimaryOwner__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>Designation_type</name>
                    <choiceReferences>designationTypeChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.DesignationType__c</elementReference>
                    </defaultValue>
                    <fieldText>Designation type</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.Product__r.ProductType__r.CanHaveDesignation__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Owner_details_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>JointOwner</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>JointOwner__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Joint owner</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.JointOwner__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.Product__r.ProductType__r.CanHaveJointOwner__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Designation</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>Designation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Designation</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.Designation__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.Product__r.ProductType__r.CanHaveDesignation__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>RegisteredContact</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>RegisteredContact__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Registered contact</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.RegisteredContact__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.Product__r.ProductType__r.CanHaveRegisteredContact__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_recommendation.RecommendationType__r.DeveloperName__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>OPEN_PRODUCT</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Details</name>
            <fieldText>Details</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Details_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Earliest_fulfilment_date</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.EarliestFulfilmentDate__c</elementReference>
                    </defaultValue>
                    <fieldText>Earliest fulfilment date</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <fields>
                    <name>PreRequisiteDestination</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>PreRequisiteRecommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Pre-requisite recommendation destination</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.PreRequisiteRecommendation__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>PreRequisiteSource</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>PreRequisiteRecommendationSource__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Pre-requisite recommendation source</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.PreRequisiteRecommendationSource__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.HasSource__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not Applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Amount</name>
                    <dataType>Number</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.Amount__c</elementReference>
                    </defaultValue>
                    <fieldText>Amount</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <scale>2</scale>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.HasAmount__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not Applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Paid_by</name>
                    <choiceReferences>paidByChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.PaidBy__c</elementReference>
                    </defaultValue>
                    <fieldText>Paid by</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <visibilityRule>
                        <conditionLogic>or</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.DeveloperName__c</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>LUMP_SUM</stringValue>
                            </rightValue>
                        </conditions>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.DeveloperName__c</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>REGULAR</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Phasing_frequency</name>
                    <choiceReferences>phasingFrequencyChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.PhasingFrequency__c</elementReference>
                    </defaultValue>
                    <fieldText>Phasing frequency</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.Phasing__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not Applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Phasing_period</name>
                    <dataType>Number</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.PhasingPeriod__c</elementReference>
                    </defaultValue>
                    <fieldText>Phasing period</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                    <validationRule>
                        <errorMessage>&lt;p&gt;{!Phasing_period}&lt;/p&gt;</errorMessage>
                        <formulaExpression>(
 (CONTAINS({!Get_recommendation.Product__r.ProductType__r.ReferenceName__c} ,&quot;SIPP&quot;)) 
 &amp;&amp;
 (
   ((IF({!Paid_by}=&quot;Client&quot;,1.25, 1)*{!Amount} ) / {!Phasing_period}) 
   &gt;= 960
  )
)
||
(
(NOT(CONTAINS({!Get_recommendation.Product__r.ProductType__r.ReferenceName__c}, &quot;SIPP&quot;))) 
&amp;&amp;
(({!Amount} / {!Phasing_period}) &gt;= 1000)
)
||
(
ISBLANK({!Get_recommendation.Product__c}) 
&amp;&amp;
(({!Amount} / {!Phasing_period}) &gt;= 1000)
)</formulaExpression>
                    </validationRule>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Phasing_frequency</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Single</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Source_of_funds</name>
                    <choiceReferences>sourceOfFundsChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.SourceOfFunds__c</elementReference>
                    </defaultValue>
                    <fieldText>Source of funds</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.HasAmount__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not Applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Details_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Fulfilment_deadline</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.FulfilmentDeadline__c</elementReference>
                    </defaultValue>
                    <fieldText>Fulfilment deadline</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <fields>
                    <name>Destination</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>DestinationLegacy__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Destination</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.DestinationLegacy__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>Source</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>SourceLegacy__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Source</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.SourceLegacy__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.HasSource__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not Applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Expected_tax_relief</name>
                    <dataType>Number</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.ExpectedTaxRelief__c</elementReference>
                    </defaultValue>
                    <fieldText>Expected tax relief</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <scale>2</scale>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.Product__r.ProductType__r.ReferenceName__c</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>SIPP</stringValue>
                            </rightValue>
                        </conditions>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.HasAmount__c</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Not Applicable</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Employer</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>Employment__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Employer</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.Employment__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Paid_by</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>Employer</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Investment_mandate</name>
                    <choiceReferences>mandateChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>defaultInvMan</elementReference>
                    </defaultValue>
                    <fieldText>Investment mandate</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <fields>
                    <name>Phasing_notes</name>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.PhasingNotes__c</elementReference>
                    </defaultValue>
                    <fieldText>Phasing notes</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Phasing_frequency</leftValueReference>
                            <operator>NotEqualTo</operator>
                            <rightValue>
                                <stringValue>Single</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Cash_build_up_details</name>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.CashBuildUpDetails__c</elementReference>
                    </defaultValue>
                    <fieldText>Cash build up details</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Get_recommendation.RecommendationType__r.DeveloperName__c</leftValueReference>
                            <operator>Contains</operator>
                            <rightValue>
                                <stringValue>WITHDRAWAL</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>or</conditionLogic>
                <conditions>
                    <leftValueReference>Get_recommendation.Product__r.ProductType__r.IsProtection__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_recommendation.Product__c</leftValueReference>
                    <operator>EqualTo</operator>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Transfer_details</name>
            <fieldText>Transfer details</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Transfer_details_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Transfer_type</name>
                    <choiceReferences>transferType</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.TransferType__c</elementReference>
                    </defaultValue>
                    <fieldText>Transfer type</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <fields>
                    <name>Transfer_notes</name>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.TransferNotes__c</elementReference>
                    </defaultValue>
                    <fieldText>Transfer notes</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Transfer_details_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Transfer_method</name>
                    <choiceReferences>transferMethod</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.TransferMethod__c</elementReference>
                    </defaultValue>
                    <fieldText>Transfer method</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_recommendation.RecommendationType__r.ReferenceName__c</leftValueReference>
                    <operator>Contains</operator>
                    <rightValue>
                        <stringValue>TRANSFER</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Protection_details</name>
            <fieldText>Protection details</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Protection_details_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Product</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>Product__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Product</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Recommendation__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxValues</name>
                        <value>
                            <numberValue>1.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>recordId</name>
                        <value>
                            <elementReference>Get_recommendation.Product__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>AmountProtection</name>
                    <dataType>Number</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.Amount__c</elementReference>
                    </defaultValue>
                    <fieldText>Amount</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <scale>2</scale>
                </fields>
                <fields>
                    <name>Term</name>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.Term__c</elementReference>
                    </defaultValue>
                    <fieldText>Term</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <fields>
                    <name>Deferral_period</name>
                    <dataType>Number</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.DeferralPeriod__c</elementReference>
                    </defaultValue>
                    <fieldText>Deferral period</fieldText>
                    <fieldType>InputField</fieldType>
                    <helpText>&lt;p&gt;In weeks&lt;/p&gt;</helpText>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                </fields>
                <fields>
                    <name>Additional_benefits</name>
                    <choiceReferences>addBensChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.AdditionalBenefits__c</elementReference>
                    </defaultValue>
                    <fieldText>Additional benefits</fieldText>
                    <fieldType>MultiSelectPicklist</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Protection_details_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Estimated_premium</name>
                    <dataType>Number</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.EstimatedPremium__c</elementReference>
                    </defaultValue>
                    <fieldText>Estimated premium</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <scale>2</scale>
                </fields>
                <fields>
                    <name>Cover_structure</name>
                    <choiceReferences>coverStructureChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.CoverStructure__c</elementReference>
                    </defaultValue>
                    <fieldText>Cover structure</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                </fields>
                <fields>
                    <name>End_date</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.EndDate__c</elementReference>
                    </defaultValue>
                    <fieldText>End date</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <fields>
                    <name>Trust</name>
                    <choiceReferences>trustChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.Trust__c</elementReference>
                    </defaultValue>
                    <fieldText>Trust</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_recommendation.Product__r.ProductType__r.IsProtection__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Non_standard_action</name>
            <fieldText>Non standard action</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Non_standard_action_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Non_standard_action_category</name>
                    <choiceReferences>nsActionChoice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.NonStandardActionCategory__c</elementReference>
                    </defaultValue>
                    <fieldText>Non standard action category</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Non_standard_action_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Non_standard_action_instructions</name>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_recommendation.NonStandardActionInstruction__c</elementReference>
                    </defaultValue>
                    <fieldText>Non standard action instructions</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>or</conditionLogic>
                <conditions>
                    <leftValueReference>Get_recommendation.RecommendationType__r.DeveloperName__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>CLIENT_ACTION</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_recommendation.RecommendationType__r.DeveloperName__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>NON_STANDARD_ACTION</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>50</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_recommendation</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Get_children</name>
        <label>Get children</label>
        <locationX>176</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>Edit_recommendation</targetReference>
        </connector>
        <flowName>AccountGetPeopleInHousehold</flowName>
        <inputAssignments>
            <name>householdId</name>
            <value>
                <elementReference>Get_recommendation.Household__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>role</name>
            <value>
                <stringValue>Child</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Get_clients</name>
        <label>Get clients</label>
        <locationX>176</locationX>
        <locationY>242</locationY>
        <connector>
            <targetReference>Get_children</targetReference>
        </connector>
        <flowName>AccountGetPeopleInHousehold</flowName>
        <inputAssignments>
            <name>householdId</name>
            <value>
                <elementReference>Get_recommendation.Household__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>role</name>
            <value>
                <stringValue>Client</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
