<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>AccountNumberFormattedCorrectly</fullName>
    <active>true</active>
    <description>Ensures that if an account number is set that it conforms to the hubwise formatting rules when an own product</description>
    <errorConditionFormula>!$Setup.SystemConfiguration__c.ValidationBypass__c &amp;&amp;
!ISBLANK(FinServ__FinancialAccountNumber__c) &amp;&amp;
!REGEX(FinServ__FinancialAccountNumber__c, &quot;^CP[A-Za-z0-9]{9}$&quot;) 
&amp;&amp; OW_own_product__c</errorConditionFormula>
    <errorDisplayField>FinServ__FinancialAccountNumber__c</errorDisplayField>
    <errorMessage>Please enter the account / policy number in the format &#39;CP#########&#39;</errorMessage>
</ValidationRule>
