<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>RecommendationAcceptedNoStatusChange</fullName>
    <active>true</active>
    <description>Prevents advice from moving back from &apos;In fulfilment&apos;</description>
    <errorConditionFormula>!$Setup.SystemConfiguration__c.ValidationBypass__c &amp;&amp;
(ISPICKVAL ( PRIORVALUE(Advice_Status__c) , &quot;In fulfilment&quot;) ||
ISPICKVAL ( PRIORVALUE(Advice_Status__c) , &quot;Suitability Declined&quot;) ||
ISPICKVAL ( PRIORVALUE(Advice_Status__c) , &quot;Complete&quot;) ||
ISPICKVAL ( PRIORVALUE(Advice_Status__c) , &quot;Cancelled&quot;))
&amp;&amp;
(NOT(ISPICKVAL ( Advice_Status__c , &quot;In fulfilment&quot;) ||
ISPICKVAL ( Advice_Status__c , &quot;Suitability Declined&quot;) ||
ISPICKVAL ( Advice_Status__c , &quot;Complete&quot;) ||
ISPICKVAL ( Advice_Status__c , &quot;Cancelled&quot;)
))
&amp;&amp;
$User.Username != &quot;cian@novawm.com&quot;
&amp;&amp;
$User.Username != &quot;donna@novawm.com&quot;</errorConditionFormula>
    <errorMessage>The status cannot be moved back to await decision once a decision has been made</errorMessage>
</ValidationRule>
