<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>TestDataMustUseTestEmail</fullName>
    <active>true</active>
    <description>Ensures that any testing accounts use the designated testing email account.</description>
    <errorConditionFormula>!$Setup.SystemConfiguration__c.ValidationBypass__c 
&amp;&amp;
Test_Record__c 
&amp;&amp; 
NOT( ISBLANK( PersonEmail ) )
&amp;&amp;
NOT( BEGINS(PersonEmail, &quot;owemailtest2108+&quot;) )
&amp;&amp;
CONTAINS(PersonEmail, &quot;@gmail.com&quot;)
&amp;&amp;
NOT(ISPICKVAL($User.OW_user_type__c,&quot;Integration&quot;))</errorConditionFormula>
    <errorDisplayField>PersonEmail</errorDisplayField>
    <errorMessage>Sorry but as this is a testing account, we limit the ability to specify your own choice of email address. Talk to Ant or Cian if you&apos;re unsure about why this is.</errorMessage>
</ValidationRule>
