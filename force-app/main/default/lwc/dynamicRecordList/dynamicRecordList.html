<template>
    <!-- display error if set -->
     {state.error}
    <template if:true={state.showRelatedList}>
    <div class="related-list-style-div"></div>
        <div class="slds-card_boundary">
            <div class="slds-page-header related-list-header">
                <div class="slds-page-header__row">
                    <div class="slds-page-header__col-title">
                        <div class="slds-media">
                            <div class="slds-media__figure">
                                <lightning-icon icon-name={state.iconName} size="small"></lightning-icon>
                            </div>
                        <div class="slds-media__body">
                            <div class="slds-page-header__name">
                                <div class="slds-page-header__name-title">
                                    <h2>
                                        <span class="slds-page-header__title slds-truncate" title={state.title}>
                                            {state.title}
                                        </span>
                                    </h2>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <template if:true={hasRows}>
            <div class="related-list-body">
                <lightning-datatable class="related-list"
                                onrowaction={handleRowAction}
                                columns={state.columns}
                                data={state.rows}
                                key-field={state.keyField}
                                hide-checkbox-column={hideCheckboxColumn}
                                show-row-number-column
                                onrowselection={handleRowSelection}
                                >
                </lightning-datatable>   
            </div>
        </template>
    </div>
    </template>
</template>