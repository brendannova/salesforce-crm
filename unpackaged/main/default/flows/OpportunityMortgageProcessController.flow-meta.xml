<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>59.0</apiVersion>
    <assignments>
        <name>AddMortgageBorrowersClientsToCollection</name>
        <label>Add Mortgage Borrowers &amp; Clients to collection</label>
        <locationX>798</locationX>
        <locationY>674</locationY>
        <assignmentItems>
            <assignToReference>mortgageBorrowersAndClients</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>GetClients.personAccounts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mortgageBorrowersAndClients</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>GetMortgageBorrowers.personAccounts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AmlStatusIncomplete</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SetTotalOutstandingAmls</name>
        <label>Set Total Outstanding AMLs</label>
        <locationX>798</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>TotalOutstandingAmlsVar</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>AmlStatusIncomplete</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AMLChecksOutstanding</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>No</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>false</stringValue>
        </value>
    </choices>
    <choices>
        <name>Yes</name>
        <choiceText>Yes</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>true</stringValue>
        </value>
    </choices>
    <collectionProcessors>
        <name>AmlStatusIncomplete</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>AML Status Incomplete</label>
        <locationX>798</locationX>
        <locationY>782</locationY>
        <assignNextValueToReference>currentItem_AmlStatusIncomplete_0</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>mortgageBorrowersAndClients</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_AmlStatusIncomplete_0.OW_aml_check_account__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <stringValue>Incomplete</stringValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>SetTotalOutstandingAmls</targetReference>
        </connector>
    </collectionProcessors>
    <decisions>
        <name>AllPeopleSetup</name>
        <label>All people setup?</label>
        <locationX>1238</locationX>
        <locationY>458</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>YesSetup</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PeopleSetupQ.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CompleteFollowUpReturnOfPreciseFpFfTask</targetReference>
            </connector>
            <label>Yes, setup</label>
        </rules>
    </decisions>
    <decisions>
        <name>AMLChecksOutstanding</name>
        <label>AML Checks outstanding?</label>
        <locationX>798</locationX>
        <locationY>998</locationY>
        <defaultConnector>
            <targetReference>UpdateMortgageProcessStagePeopleSetupCheck</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesOustandingAmls</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>TotalOutstandingAmlsVar</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateTaskAml</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>DIPStatus</name>
        <label>DIP Status</label>
        <locationX>2294</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>CreateTaskReviewResearch</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Declined</defaultConnectorLabel>
        <rules>
            <name>Accepted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetDipStatusFlow.DIPStatusVar</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateTaskFollowUpClient</targetReference>
            </connector>
            <label>Accepted</label>
        </rules>
    </decisions>
    <decisions>
        <name>FastTrackedOrStandard</name>
        <label>Fast Tracked or Standard?</label>
        <locationX>3790</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>ConsumerDuty</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Standard</defaultConnectorLabel>
        <rules>
            <name>FastTracked</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.ApplicationType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Fast Tracked</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CompleteSubmitDipTask2</targetReference>
            </connector>
            <label>Fast Tracked</label>
        </rules>
    </decisions>
    <decisions>
        <name>NextStepOutcome</name>
        <label>Next Step Outcome</label>
        <locationX>3262</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>CloseOpportunityApplication1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, do not proceed</defaultConnectorLabel>
        <rules>
            <name>YesProceed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SubmitNewDecisionQ</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Yes</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateMortgageProcessStageGetDipStatus2</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Offered</name>
        <label>Offered?</label>
        <locationX>5858</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>ProceedingWithApplication</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, not offered</defaultConnectorLabel>
        <rules>
            <name>YesOffered</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FollowUpWithUnderwritersCompleteCheck.OfferedVar</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateTaskSuitabilityDeck</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>PreciseFpFactFindSentDatePopulated</name>
        <label>Precise FP Fact Find sent date populated?</label>
        <locationX>50</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>CreateTaskSendPFPLinkToClient</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesPopulated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.OW_date_precise_fp_fact_find_sent__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateMortgageProcessStageGatherInformation</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>ProceedingWithApplication</name>
        <label>Proceeding with application?</label>
        <locationX>6034</locationX>
        <locationY>674</locationY>
        <defaultConnector>
            <targetReference>CloseOpportunityApplication</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not proceeding</defaultConnectorLabel>
        <rules>
            <name>Yes_proceeding</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FollowUpWithUnderwritersCompleteCheck.ProceedingVar</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateTaskReviewResearch</targetReference>
            </connector>
            <label>Yes, proceeding</label>
        </rules>
    </decisions>
    <decisions>
        <name>ReadyToProceed</name>
        <label>Ready to proceed?</label>
        <locationX>4494</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>UpdateMortgageProcessStageDeclinedProceed2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesReady</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>QReadyToProceed</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Yes</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateTaskSubmitApplication</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>WhichApplicationType</name>
        <label>Which Application Type?</label>
        <locationX>1766</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>UpdateMortgageProcessStageGetDipStatus</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Standard</defaultConnectorLabel>
        <rules>
            <name>Fast_Tracked</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.ApplicationType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Fast Tracked</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateTaskConsumerDutyFairAssessment1</targetReference>
            </connector>
            <label>Fast Tracked</label>
        </rules>
    </decisions>
    <decisions>
        <description>Decide which screen should display</description>
        <name>WhichMortgageProcessStage</name>
        <label>Which Mortgage Process Stage?</label>
        <locationX>4142</locationX>
        <locationY>242</locationY>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Blank</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>StartScreen</targetReference>
            </connector>
            <label>Blank</label>
        </rules>
        <rules>
            <name>GatherInformation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Gather Information</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SendPreciseFPFactFind</targetReference>
            </connector>
            <label>Gather Information</label>
        </rules>
        <rules>
            <name>ApplicationType2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Application Type</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ApplicationType</targetReference>
            </connector>
            <label>Application Type</label>
        </rules>
        <rules>
            <name>PeopleSetupCheck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>People Setup Check</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PeopleSetupCheckScreen</targetReference>
            </connector>
            <label>People Setup Check</label>
        </rules>
        <rules>
            <name>AMLCheck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AML’s Check</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AnyAmlsOutstanding</targetReference>
            </connector>
            <label>AML Check</label>
        </rules>
        <rules>
            <name>GetDipStatus</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Get DIP Status</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetDipStatusFlow</targetReference>
            </connector>
            <label>Get DIP Status</label>
        </rules>
        <rules>
            <name>FollowUpClient</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Follow Up Client</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>FollowUpClientTaskCheck</targetReference>
            </connector>
            <label>Follow Up Client</label>
        </rules>
        <rules>
            <name>ReviewResearch</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Review Research</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ReviewResearchTaskCheck</targetReference>
            </connector>
            <label>Review Research</label>
        </rules>
        <rules>
            <name>DeclinedProceed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Declined - Proceed?</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>DeclinedNextActionScreen</targetReference>
            </connector>
            <label>Declined - Proceed?</label>
        </rules>
        <rules>
            <name>ConsumerDutyFairAssessment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Consumer Duty Fair Assessment</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>FastTrackedOrStandard</targetReference>
            </connector>
            <label>Consumer Duty Fair Assessment</label>
        </rules>
        <rules>
            <name>SendIllustration</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Send Illustration</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>IllustrationSentCheck</targetReference>
            </connector>
            <label>Send Illustration</label>
        </rules>
        <rules>
            <name>ReadyToProceedQ</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Ready To Proceed Q</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ReadyToProceedQuestion</targetReference>
            </connector>
            <label>Ready To Proceed Q</label>
        </rules>
        <rules>
            <name>ApplicationSubmitted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Application Submitted Check</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ApplicationSubmittedCheck</targetReference>
            </connector>
            <label>Application Submitted Check</label>
        </rules>
        <rules>
            <name>ClientEmailCheck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Client Email Check</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>HasClientBeenEmailedCheck</targetReference>
            </connector>
            <label>Client Email Check</label>
        </rules>
        <rules>
            <name>RequestInfoCheck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Request Info Check</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RequestInfoCheckQ</targetReference>
            </connector>
            <label>Request Info Check</label>
        </rules>
        <rules>
            <name>FollowUpWithUnderwritersCheck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Follow Up With Underwriters Check</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>FollowUpWithUnderwritersCompleteCheck</targetReference>
            </connector>
            <label>Follow Up With Underwriters Check</label>
        </rules>
        <rules>
            <name>SuitabilityDeck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Suitability Deck</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SuitabilityDeckCheck</targetReference>
            </connector>
            <label>Suitability Deck</label>
        </rules>
        <rules>
            <name>ApplicationCompletionDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Application Completion Date</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ApplicationCompletionDateCheck</targetReference>
            </connector>
            <label>Application Completion Date</label>
        </rules>
        <rules>
            <name>FinalCorrespondence</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Final correspondence</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>FinalCorrespondenceCheck</targetReference>
            </connector>
            <label>Final correspondence</label>
        </rules>
        <rules>
            <name>RequestFees</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Request fees</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RequestFeesCheck</targetReference>
            </connector>
            <label>Request fees</label>
        </rules>
        <rules>
            <name>UpdateSalesforce</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Update Salesforce</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateSalesforceCheck</targetReference>
            </connector>
            <label>Update Salesforce</label>
        </rules>
        <rules>
            <name>UpdateIo</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Update IO</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateIoCheck</targetReference>
            </connector>
            <label>Update IO</label>
        </rules>
        <rules>
            <name>Finished</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetOpportunity.MortgageProcessStage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Finished</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>MortgageComplete</targetReference>
            </connector>
            <label>Finished</label>
        </rules>
    </decisions>
    <description>Flow used to orchestrate the mortgage opportunity process, and determine which screen should appear on mortgage opportunities at a given stage of the process.</description>
    <environments>Default</environments>
    <interviewLabel>Opportunity | Mortgage | Process Controller {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity | Mortgage | Process Controller</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>GetOpportunity</name>
        <label>Get Opportunity</label>
        <locationX>4142</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>WhichMortgageProcessStage</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>UpdateApplicationStageToOffered</name>
        <label>Update Application Stage to Offered</label>
        <locationX>5682</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageSuitabilityDeck</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Offered</stringValue>
            </value>
        </inputAssignments>
        <object>ResidentialLoanApplication</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageAmlCheck</name>
        <label>Update Mortgage Process Stage: AML Check</label>
        <locationX>1106</locationX>
        <locationY>782</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>AML’s Check</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageApplicationCompletionDate</name>
        <label>Update Mortgage Process Stage: Application Completion Date</label>
        <locationX>6386</locationX>
        <locationY>458</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Application Completion Date</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <description>Also update Opportunity Stage to &quot;Broker Mortgage&quot;</description>
        <name>UpdateMortgageProcessStageApplicationSubmitted2</name>
        <label>Update Mortgage Process Stage: Application Submitted</label>
        <locationX>4362</locationX>
        <locationY>782</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Application Submitted Check</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Broker mortgage</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageApplicationType</name>
        <label>Update Mortgage Process Stage: Application Type</label>
        <locationX>402</locationX>
        <locationY>458</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Application Type</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageClientEmailCheck</name>
        <label>Update Mortgage Process Stage: Client Email Check</label>
        <locationX>4890</locationX>
        <locationY>782</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Client Email Check</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageConsumerDutyFairAssessment</name>
        <label>Update Mortgage Process Stage: Consumer Duty Fair Assessment</label>
        <locationX>2602</locationX>
        <locationY>566</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Consumer Duty Fair Assessment</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageConsumerDutyFairAssessment1</name>
        <label>Update Mortgage Process Stage: Consumer Duty Fair Assessment</label>
        <locationX>1634</locationX>
        <locationY>998</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Consumer Duty Fair Assessment</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageDeclinedProceed</name>
        <label>Update Mortgage Process Stage: Declined - Proceed?</label>
        <locationX>2866</locationX>
        <locationY>458</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Declined - Proceed?</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageDeclinedProceed2</name>
        <label>Update Mortgage Process Stage: Declined - Proceed?</label>
        <locationX>4626</locationX>
        <locationY>674</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Declined - Proceed?</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <description>Also set Opportunity Stage to &quot;Complete&quot;</description>
        <name>UpdateMortgageProcessStageFinalCorrespondence</name>
        <label>Update Mortgage Process Stage: Final Correspondence</label>
        <locationX>6650</locationX>
        <locationY>1106</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Final correspondence</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Complete</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageFinished</name>
        <label>Update Mortgage Process Stage: Finished</label>
        <locationX>7706</locationX>
        <locationY>458</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Finished</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageFollowUpClient</name>
        <label>Update Mortgage Process Stage: Follow Up Client</label>
        <locationX>2162</locationX>
        <locationY>782</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Follow Up Client</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageFollowUpWithUnderwritersCheck</name>
        <label>Update Mortgage Process Stage: Follow Up With Underwriters Check</label>
        <locationX>5418</locationX>
        <locationY>458</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Follow Up With Underwriters Check</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageGatherInformation</name>
        <label>Update Mortgage Process Stage: Gather Information</label>
        <locationX>50</locationX>
        <locationY>866</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Gather Information</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageGetDipStatus</name>
        <label>Update Mortgage Process Stage: Get DIP Status</label>
        <locationX>1898</locationX>
        <locationY>890</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Get DIP Status</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageGetDipStatus2</name>
        <label>Update Mortgage Process Stage: Get DIP Status</label>
        <locationX>3130</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>CreateTaskSubmitDip2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Get DIP Status</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStagePeopleSetupCheck</name>
        <label>Update Mortgage Process Stage: People Setup Check</label>
        <locationX>798</locationX>
        <locationY>1298</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>People Setup Check</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageReadyToProceedQ</name>
        <label>Update Mortgage Process Stage: Ready To Proceed Q</label>
        <locationX>4098</locationX>
        <locationY>566</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Ready To Proceed Q</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageRequestFees</name>
        <label>Update Mortgage Process Stage: Request Fees</label>
        <locationX>6914</locationX>
        <locationY>458</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Request fees</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageRequestInfoCheck</name>
        <label>Update Mortgage Process Stage: Request Info Check</label>
        <locationX>5154</locationX>
        <locationY>674</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Request Info Check</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageReviewResearch</name>
        <label>Update Mortgage Process Stage: Review Research</label>
        <locationX>4142</locationX>
        <locationY>1706</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Review Research</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageSendIllustration</name>
        <label>Update Mortgage Process Stage: Send Illustration</label>
        <locationX>3790</locationX>
        <locationY>974</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Send Illustration</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <description>Also update Opportunity Stage to &quot;Await Completion&quot;</description>
        <name>UpdateMortgageProcessStageSuitabilityDeck</name>
        <label>Update Mortgage Process Stage: Suitability Deck</label>
        <locationX>5682</locationX>
        <locationY>998</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Suitability Deck</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Await completion</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageUpdateIo</name>
        <label>Update Mortgage Process Stage: Update IO</label>
        <locationX>7442</locationX>
        <locationY>458</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Update IO</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateMortgageProcessStageUpdateSalesforce</name>
        <label>Update Mortgage Process Stage: Update Salesforce</label>
        <locationX>7178</locationX>
        <locationY>458</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>MortgageProcessStage__c</field>
            <value>
                <stringValue>Update Salesforce</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <screens>
        <name>AmlsCompleteScreen</name>
        <label>AmlsCompleteScreen</label>
        <locationX>1766</locationX>
        <locationY>458</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>CompleteAMLTask</targetReference>
        </connector>
        <fields>
            <name>AmlsSuccessMessage</name>
            <fieldText>&lt;p&gt;All AML Checks are complete!&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Click &lt;strong&gt;Next&lt;/strong&gt; to continue.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Next</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>DeclinedNextActionScreen</name>
        <label>DeclinedNextActionScreen</label>
        <locationX>3262</locationX>
        <locationY>350</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>NextStepOutcome</targetReference>
        </connector>
        <fields>
            <name>SubmitNewDecisionQ</name>
            <choiceReferences>Yes</choiceReferences>
            <choiceReferences>No</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Are we going to submit a new decision in principle?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <nextOrFinishButtonLabel>Submit</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>PeopleSetupCheckScreen</name>
        <label>People Setup Check Screen</label>
        <locationX>1238</locationX>
        <locationY>350</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>AllPeopleSetup</targetReference>
        </connector>
        <fields>
            <name>PeopleSetupQ</name>
            <extensionName>flowruntime:toggle</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Have all people been setup in the household?</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>messageToggleActive</name>
                <value>
                    <stringValue>Yes</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>messageToggleInactive</name>
                <value>
                    <stringValue>No</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>PeopleSetupDescription</name>
            <fieldText>&lt;p&gt;Please make sure all members of the household have been setup prior to completing this screen (AML records will be created for the relevant people once this has been marked complete).&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ReadyToProceedQuestion</name>
        <label>ReadyToProceed</label>
        <locationX>4494</locationX>
        <locationY>350</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>CompleteStartMortgageApplicationProcessTask</targetReference>
        </connector>
        <fields>
            <name>QReadyToProceed</name>
            <choiceReferences>Yes</choiceReferences>
            <choiceReferences>No</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Are we ready to proceed with application?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <nextOrFinishButtonLabel>Submit</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>StartScreen</name>
        <label>Start Screen</label>
        <locationX>50</locationX>
        <locationY>350</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>CompleteStartMortgageOpportunityProcessTask</targetReference>
        </connector>
        <fields>
            <name>Start</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;Click Start to move to Gather Information and begin the mortgage process&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Start</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>4016</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>GetOpportunity</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>AnyAmlsOutstanding</name>
        <label>Any AMLs Outstanding?</label>
        <locationX>1766</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>AmlsCompleteScreen</targetReference>
        </connector>
        <flowName>OpportunityMortgageAntiMoneyLaunderingCheck</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>ApplicationCompletionDateCheck</name>
        <label>Application Completion Date</label>
        <locationX>6650</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>CompleteReviewRatesAndDeferTask</targetReference>
        </connector>
        <flowName>OpportunityMortgageCompletionDate</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>ApplicationSubmittedCheck</name>
        <label>Application Submitted Check</label>
        <locationX>4890</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>CompleteApplicationSubmittedTask</targetReference>
        </connector>
        <flowName>OpportunityMortgageApplicationPropertyDetailsScreen</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>ApplicationType</name>
        <label>Application Type</label>
        <locationX>798</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>GetMortgageBorrowers</targetReference>
        </connector>
        <flowName>OpportunityMortgageFastTrackApplication</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CloseOpportunityApplication</name>
        <label>Close Opportunity &amp; Application</label>
        <locationX>6122</locationX>
        <locationY>782</locationY>
        <connector>
            <targetReference>CreateTaskClientCheckIn</targetReference>
        </connector>
        <flowName>OpportunityMortgageCloseLostOpportunityApplication</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CloseOpportunityApplication1</name>
        <label>Close Opportunity &amp; Application</label>
        <locationX>3394</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>CreateTaskClientCheckIn1</targetReference>
        </connector>
        <flowName>OpportunityMortgageCloseLostOpportunityApplication</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CompleteAMLTask</name>
        <label>Complete AML Task</label>
        <locationX>1766</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>CreateTaskSubmitDip</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_aml_check</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteApplicationSubmittedTask</name>
        <label>Complete Application Submitted Task</label>
        <locationX>4890</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>CreateTaskReviewRatesAndDefer</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_submit_application</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteConsumerDutyTask</name>
        <label>Complete Consumer Duty Task</label>
        <locationX>3790</locationX>
        <locationY>758</locationY>
        <connector>
            <targetReference>CreateTaskSendIllustrationToClient</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_consumer_duty_fair_assessment</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteConveyancerTask</name>
        <label>Complete Conveyancer Task</label>
        <locationX>6650</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>CreateTaskSendFinalCorrespondence</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_follow_up_with_conveyancers</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteFollowUpReturnOfPreciseFpFfTask</name>
        <label>Complete Follow up return of PreciseFP FF task</label>
        <locationX>1106</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>CreateAMLRecords</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_chase_precisefp_ff</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteFollowUpWithUnderwritersTask</name>
        <label>Complete Follow Up With Underwriters Task</label>
        <locationX>5858</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>Offered</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_follow_up_with_underwriters</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteReviewRatesAndDeferTask</name>
        <label>Complete Review Rates and Defer Task</label>
        <locationX>6650</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>CompleteConveyancerTask</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_review_rates_defer</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteStartMortgageApplicationProcessTask</name>
        <label>Complete Start Mortgage Application Process Task</label>
        <locationX>4494</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>ReadyToProceed</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_start_application_process</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteStartMortgageOpportunityProcessTask</name>
        <label>Complete Start Mortgage Opportunity Process Task</label>
        <locationX>50</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>PreciseFpFactFindSentDatePopulated</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_start_process</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteSubmitDipTask</name>
        <label>Complete Submit DIP Task</label>
        <locationX>2294</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>DIPStatus</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_submit_dip</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CompleteSubmitDipTask2</name>
        <label>Complete Submit DIP Task</label>
        <locationX>3658</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>ConsumerDuty</targetReference>
        </connector>
        <flowName>TaskCompleteOrchestrationTask</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_submit_dip</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>ConsumerDuty</name>
        <label>Consumer Duty Fair Assessment</label>
        <locationX>3790</locationX>
        <locationY>650</locationY>
        <connector>
            <targetReference>CompleteConsumerDutyTask</targetReference>
        </connector>
        <flowName>OpportunityMortgageConsumerDutyFairAssessmentQuestions</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateAMLRecords</name>
        <label>Create AML Records</label>
        <locationX>1106</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageAmlCheck</targetReference>
        </connector>
        <flowName>OpportunityMortgageCreateAntiMoneyLaundering</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskAml</name>
        <label>Create Task: AML</label>
        <locationX>666</locationX>
        <locationY>1106</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStagePeopleSetupCheck</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>ApplicationType.FinalApplicationId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_aml_check</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskaskEmailClientCheckApplicationSubmitted</name>
        <label>Create Task: Email client to check application has been submitted</label>
        <locationX>4890</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageClientEmailCheck</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_email_client_check_submitted</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskClientCheckIn</name>
        <label>Create Task: Client Check-in</label>
        <locationX>6122</locationX>
        <locationY>890</locationY>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_closed_checkin</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskClientCheckIn1</name>
        <label>Create Task: Client Check-in</label>
        <locationX>3394</locationX>
        <locationY>674</locationY>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_closed_checkin</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskConsumerDutyFairAssessment</name>
        <label>Create Task: Consumer Duty Fair Assessment</label>
        <locationX>2602</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageConsumerDutyFairAssessment</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_consumer_duty_fair_assessment</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskConsumerDutyFairAssessment1</name>
        <label>Create Task: Consumer Duty Fair Assessment</label>
        <locationX>1634</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageConsumerDutyFairAssessment1</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_consumer_duty_fair_assessment</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskFollowUpClient</name>
        <label>Create Task: Follow up client</label>
        <locationX>2162</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageFollowUpClient</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_check_in_with_client</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskFollowUpConveyancers</name>
        <label>Create Task: Follow up conveyancers</label>
        <locationX>5682</locationX>
        <locationY>782</locationY>
        <connector>
            <targetReference>UpdateApplicationStageToOffered</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_follow_up_with_conveyancers</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskFollowUpWithUnderwriters</name>
        <label>Create Task: Follow Up With Underwriters</label>
        <locationX>5154</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageRequestInfoCheck</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_follow_up_with_underwriters</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskRequestFeesFromLender</name>
        <label>Create Task: Request Fees From Lender</label>
        <locationX>6650</locationX>
        <locationY>782</locationY>
        <connector>
            <targetReference>CreateTaskUpdateSalesforce</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_request_fees_from_lender</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskRequestInfoDocs</name>
        <label>Create Task: Request information/documents</label>
        <locationX>5154</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>CreateTaskFollowUpWithUnderwriters</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_request_info_docs</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskReviewRatesAndDefer</name>
        <label>Create Task: Review rates and defer</label>
        <locationX>4890</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>CreateTaskaskEmailClientCheckApplicationSubmitted</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_review_rates_defer</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskReviewResearch</name>
        <label>Create Task: Review Research</label>
        <locationX>4142</locationX>
        <locationY>1598</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageReviewResearch</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_review_research</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskSendFinalCorrespondence</name>
        <label>Create Task: Send final correspondence</label>
        <locationX>6650</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>CreateTaskRequestFeesFromLender</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_send_final_correspondence</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskSendIllustrationToClient</name>
        <label>Create Task: Send Illustration To Client</label>
        <locationX>3790</locationX>
        <locationY>866</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageSendIllustration</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_send_illustration</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskSendPFPLinkToClient</name>
        <label>Create Task: Send PFP link to client</label>
        <locationX>138</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageGatherInformation</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_send_precisefp_ff</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskStartMortgageApplicationProcess</name>
        <label>Create Task: Start Mortgage Application Process</label>
        <locationX>4098</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageReadyToProceedQ</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_start_application_process</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskSubmitApplication</name>
        <label>Create Task: Submit Application</label>
        <locationX>4362</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageApplicationSubmitted2</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_submit_application</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskSubmitDip</name>
        <label>Create Task: Submit DIP</label>
        <locationX>1766</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>WhichApplicationType</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_submit_dip</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskSubmitDip2</name>
        <label>Create Task: Submit DIP</label>
        <locationX>3130</locationX>
        <locationY>674</locationY>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_submit_dip</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskSuitabilityDeck</name>
        <label>Create Task: Suitability Deck</label>
        <locationX>5682</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>CreateTaskFollowUpConveyancers</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_suitability_deck</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskUpdateIo</name>
        <label>Create Task: Update IO</label>
        <locationX>6650</locationX>
        <locationY>998</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageFinalCorrespondence</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_update_io</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTaskUpdateSalesforce</name>
        <label>Create Task: Update Salesforce</label>
        <locationX>6650</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>CreateTaskUpdateIo</targetReference>
        </connector>
        <flowName>OW_task_create_from_task_information</flowName>
        <inputAssignments>
            <name>household_id</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_mortgage_application</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>related_opportunity</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>task_type</name>
            <value>
                <stringValue>mortgage_update_salesforce</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>what_id</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>FinalCorrespondenceCheck</name>
        <label>Final correspondence check</label>
        <locationX>6914</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageRequestFees</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_send_final_correspondence</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>FollowUpClientTaskCheck</name>
        <label>Follow Up Client task check</label>
        <locationX>2602</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>CreateTaskConsumerDutyFairAssessment</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_check_in_with_client</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>FollowUpWithUnderwritersCompleteCheck</name>
        <label>Follow-up with underwriters complete check</label>
        <locationX>5858</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>CompleteFollowUpWithUnderwritersTask</targetReference>
        </connector>
        <flowName>OpportunityMortgageUnderwriterFollowUpCompleteCheck</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>GetClients</name>
        <label>Get people accounts marked as Clients</label>
        <locationX>798</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>AddMortgageBorrowersClientsToCollection</targetReference>
        </connector>
        <flowName>AccountGetPeopleInHousehold</flowName>
        <inputAssignments>
            <name>householdId</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>role</name>
            <value>
                <stringValue>Client</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>GetDipStatusFlow</name>
        <label>Get DIP Status</label>
        <locationX>2294</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>CompleteSubmitDipTask</targetReference>
        </connector>
        <flowName>OpportunityMortgageDecisionInPrincipleStatus</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>GetMortgageBorrowers</name>
        <label>Get people accounts marked as mortgage borrowers</label>
        <locationX>798</locationX>
        <locationY>458</locationY>
        <connector>
            <targetReference>GetClients</targetReference>
        </connector>
        <flowName>AccountGetPeopleInHousehold</flowName>
        <inputAssignments>
            <name>householdId</name>
            <value>
                <elementReference>GetOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>role</name>
            <value>
                <stringValue>Mortgage borrower</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>HasClientBeenEmailedCheck</name>
        <label>Has client been emailed check</label>
        <locationX>5154</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>CreateTaskRequestInfoDocs</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_email_client_check_submitted</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>IllustrationSentCheck</name>
        <label>Illustration Sent check</label>
        <locationX>4098</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>CreateTaskStartMortgageApplicationProcess</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_send_illustration</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>MortgageComplete</name>
        <label>Mortgage Complete</label>
        <locationX>7970</locationX>
        <locationY>350</locationY>
        <flowName>OpportunityMortgageComplete</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>RequestFeesCheck</name>
        <label>Request fees check</label>
        <locationX>7178</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageUpdateSalesforce</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_request_fees_from_lender</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>RequestInfoCheckQ</name>
        <label>Request Info Check</label>
        <locationX>5418</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageFollowUpWithUnderwritersCheck</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_request_info_docs</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>ReviewResearchTaskCheck</name>
        <label>Review Research task check</label>
        <locationX>2866</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageDeclinedProceed</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_review_research</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>SendPreciseFPFactFind</name>
        <label>Send Precise FP Fact Find</label>
        <locationX>402</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageApplicationType</targetReference>
        </connector>
        <flowName>OpportunityMortgageSendFactFind</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>taskType</name>
            <value>
                <stringValue>mortgage_send_precisefp_ff</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>SuitabilityDeckCheck</name>
        <label>Suitability Deck Check</label>
        <locationX>6386</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageApplicationCompletionDate</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_suitability_deck</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>UpdateIoCheck</name>
        <label>Update IO Check</label>
        <locationX>7706</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageFinished</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_update_io</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>UpdateSalesforceCheck</name>
        <label>Update Salesforce check</label>
        <locationX>7442</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>UpdateMortgageProcessStageUpdateIo</targetReference>
        </connector>
        <flowName>OpportunityMortgageScreenCheck</flowName>
        <inputAssignments>
            <name>mortgageId</name>
            <value>
                <elementReference>GetOpportunity.OW_mortgage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TaskType</name>
            <value>
                <stringValue>mortgage_update_salesforce</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>currentItem_AmlStatusIncomplete_0</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>mortgageBorrowersAndClients</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>TotalOutstandingAmlsVar</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
</Flow>
