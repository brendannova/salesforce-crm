<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <apiVersion>56.0</apiVersion>
    <assignments>
        <name>Add_household_to_collection</name>
        <label>Add household to collection</label>
        <locationX>402</locationX>
        <locationY>1214</locationY>
        <assignmentItems>
            <assignToReference>accountsUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>account</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_clients_clear_values</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Adds to the existing spending and savings figures the contribution by this client.</description>
        <name>Add_person_s_contribution</name>
        <label>Add person&#39;s contribution</label>
        <locationX>490</locationX>
        <locationY>638</locationY>
        <assignmentItems>
            <assignToReference>rentSuggested</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>rentPersonMonthly</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>cashSuggested</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>cashPersonMonthly</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>isasSuggested</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>isasPersonMonthly</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>pensionsSuggested</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>pensionsPersonMonthly</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>otherInvestmentsSuggested</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>otherInvestmentsPersonMonthly</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>additionalOutgoingsSuggested</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>additionalOutgoingsPersonMonthly</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>hasClientLevelRent</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>hasClientLevelRentCheck</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>hasClientLevelCash</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>hasClientLevelCashCheck</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>hasClientLevelIsas</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>hasClientLevelIsasCheck</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>hasClientLevelPensions</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>hasClientLevelPensionsCheck</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>hasClientLevelOtherInvestments</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>hasClientLevelOtherInvestmentsCheck</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>hasClientLevelAdditionalOutgoings</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>hasClientLevelAdditionalOutgoingsCheck</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>givingSuggestedClientLevelCombined</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>givingAdditional</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>hasClientLevelGiving</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>hasClientLevelGivingCheck</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_clients</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_accounts_to_update</name>
        <label>Add to accounts to update</label>
        <locationX>490</locationX>
        <locationY>1694</locationY>
        <assignmentItems>
            <assignToReference>accountsUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>account</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_clients_clear_values</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clear_account_variable</name>
        <label>Clear account variable</label>
        <locationX>490</locationX>
        <locationY>1454</locationY>
        <assignmentItems>
            <assignToReference>account</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Clear_spending_and_saving_figures</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clear_spending_and_saving_figures</name>
        <label>Clear spending and saving figures</label>
        <locationX>490</locationX>
        <locationY>1574</locationY>
        <assignmentItems>
            <assignToReference>account.Rent__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Rent_Frequency__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Cash__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Cash_Frequency__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.ISAs__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.ISAs_Frequency__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Pensions__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Pensions_Frequency__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Other_Investments__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Other_Investments_Frequency__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Additional_Monthly_Outgoings__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Additional_Outgoings_Frequency__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_clients_clear_values.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Giving__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.MigrationGiving__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Reviewed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.MigrationSpendingSaving__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Reviewed</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_to_accounts_to_update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_household_values_to_inputs</name>
        <label>Set household values to inputs</label>
        <locationX>402</locationX>
        <locationY>1094</locationY>
        <assignmentItems>
            <assignToReference>account.OW_essential_spending__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>EssentialSpending</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.OW_essential_spending_frequency__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>EssentialSpendingFrequency</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.OW_non_essential_spending__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>NonEssentialSpending</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.OW_non_essential_spending_frequency__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>NonEssentialSpendingFrequency</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Rent__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Rent</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Rent_Frequency__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RentFrequency</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Cash__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Cash</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Cash_Frequency__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CashFrequency</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.ISAs__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ISAs</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.ISAs_Frequency__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ISAsFrequency</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Pensions__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Pensions</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Pensions_Frequency__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>PensionsFrequency</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Other_Investments__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>OtherInvestments</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Other_Investments_Frequency__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>OtherInvestmentsFrequency</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_household_details.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.Giving__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>GivingInput</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.MigrationGiving__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Reviewed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>account.MigrationSpendingSaving__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Reviewed</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_household_to_collection</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>householdValueEssentialSpending</name>
        <choiceText>Household value: {!Get_household_details.OW_essential_spending__c} {!Get_household_details.OW_essential_spending_frequency__c}</choiceText>
        <dataType>Currency</dataType>
    </choices>
    <decisions>
        <name>Validations_outstanding</name>
        <label>Validations outstanding?</label>
        <locationX>226</locationX>
        <locationY>278</locationY>
        <defaultConnector>
            <targetReference>Get_client_records</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_household_details.Fact_Find_Validations_Outstanding__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Validations_outstanding_screen</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <description>This flow will assist planners with migrating spending and saving information from the person account level to the household. It presents the figures at the person level to assist in calculating a household figure then clears the person account level values.</description>
    <dynamicChoiceSets>
        <name>frequencyChoiceSet</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Rent_Frequency__c</picklistField>
        <picklistObject>Account</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>additionalOutgoingsPersonMonthly</name>
        <dataType>Currency</dataType>
        <expression>IF(ISBLANK({!Loop_clients.Additional_Monthly_Outgoings__c}), 0, (CASE({!Loop_clients.Additional_Outgoings_Frequency__c},
&quot;Weekly&quot;, {!Loop_clients.Additional_Monthly_Outgoings__c} * 52 / 12,
&quot;Monthly&quot;, {!Loop_clients.Additional_Monthly_Outgoings__c},
&quot;Annually&quot;, {!Loop_clients.Additional_Monthly_Outgoings__c} / 12,
{!Loop_clients.Additional_Monthly_Outgoings__c} )))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>additionalOutgoingsSuggestedPrompt</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!additionalOutgoingsSuggested}), &quot;There is no client level additional outgoings spending to work with.&quot;, &quot;The clients have additional outgoings as broken down below. This is equivalent to £&quot; + TEXT({!additionalOutgoingsSuggested}) + &quot; monthly.&quot;)</expression>
    </formulas>
    <formulas>
        <name>cashFigurePrepopulated</name>
        <dataType>Currency</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Cash__c})), 
{!Get_household_details.Cash__c}, 
IF({!hasClientLevelCash}, 
{!cashSuggested}, 
NULL))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>A number version of this figure is needed for use in setting a null for the default as this can&#39;t be done with a currency formula.</description>
        <name>cashFigurePrepopulatedNumber</name>
        <dataType>Number</dataType>
        <expression>{!cashFigurePrepopulated}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>cashFrequencyPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Cash__c})), 
TEXT({!Get_household_details.Cash_Frequency__c}), 
IF({!hasClientLevelCash}, &quot;Monthly&quot;, NULL))</expression>
    </formulas>
    <formulas>
        <name>cashPersonMonthly</name>
        <dataType>Currency</dataType>
        <expression>IF(ISBLANK({!Loop_clients.Cash__c}), 0, (CASE({!Loop_clients.Cash_Frequency__c},
&quot;Weekly&quot;, {!Loop_clients.Cash__c} * 52 / 12,
&quot;Monthly&quot;, {!Loop_clients.Cash__c},
&quot;Annually&quot;, {!Loop_clients.Cash__c} / 12,
{!Loop_clients.Cash__c} )))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>cashPromptHouseholdLevel</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!Get_household_details.Cash__c}), &quot;There is no cash recorded on the household right now.&quot;, &quot;There is a cash figure on the household of £&quot; + TEXT({!Get_household_details.Cash__c}) + &quot; &quot; + TEXT({!Get_household_details.Cash_Frequency__c}) + &quot;.&quot;)</expression>
    </formulas>
    <formulas>
        <name>cashPromptPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!cashFigurePrepopulated}), &quot;Based on this, we aren&#39;t able to suggest a cash figure.&quot;, &quot;Based on this, the cash has been pre-populated at £&quot; + TEXT({!cashFigurePrepopulated}) + &quot; &quot; + {!cashFrequencyPrepopulated} + &quot;. You can change this below or click next to leave it as is.&quot;)</expression>
    </formulas>
    <formulas>
        <name>cashSuggestedPrompt</name>
        <dataType>String</dataType>
        <expression>IF({!hasClientLevelCash}, &quot;Based on the person level cash figures, the household level might be £&quot; &amp; TEXT({!cashSuggested}) &amp; &quot; monthly.&quot;, &quot;There are no person level cash figures.&quot;)</expression>
    </formulas>
    <formulas>
        <name>givingAdditional</name>
        <dataType>String</dataType>
        <expression>{!givingSuggestedClientLevelCombined} + IF(ISBLANK({!Loop_clients.Giving__c}), &quot;&quot;, {!Loop_clients.AddressedName__pc} + &quot;: &quot; + {!Loop_clients.Giving__c} + BR() + BR())</expression>
    </formulas>
    <formulas>
        <name>givingHouseholdPrompt</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Giving__c})), &quot;Giving has already been capture at the household level and is pre-populated in the text box below. Please make sure this is accurate.&quot;, &quot;To help get you going, the giving box has been pre-filled with any information we already had at the person account level, which you can review below. Please make any adjustments necessary.&quot;)</expression>
    </formulas>
    <formulas>
        <name>givingSuggested</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Giving__c})), {!Get_household_details.Giving__c}, {!givingSuggestedClientLevelCombined})</expression>
    </formulas>
    <formulas>
        <name>hasClientLevelAdditionalOutgoingsCheck</name>
        <dataType>Boolean</dataType>
        <expression>IF({!hasClientLevelAdditionalOutgoings} || NOT(ISBLANK({!Loop_clients.Additional_Monthly_Outgoings__c})), TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>hasClientLevelCashCheck</name>
        <dataType>Boolean</dataType>
        <expression>IF({!hasClientLevelCash} || NOT(ISBLANK({!Loop_clients.Cash__c})), TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>hasClientLevelGivingCheck</name>
        <dataType>Boolean</dataType>
        <expression>IF({!hasClientLevelGiving} || NOT(ISBLANK({!Loop_clients.Giving__c})), TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>hasClientLevelIsasCheck</name>
        <dataType>Boolean</dataType>
        <expression>IF({!hasClientLevelIsas} || NOT(ISBLANK({!Loop_clients.ISAs__c})), TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>hasClientLevelOtherInvestmentsCheck</name>
        <dataType>Boolean</dataType>
        <expression>IF({!hasClientLevelOtherInvestments} || NOT(ISBLANK({!Loop_clients.Other_Investments__c})), TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>hasClientLevelPensionsCheck</name>
        <dataType>Boolean</dataType>
        <expression>IF({!hasClientLevelPensions} || NOT(ISBLANK({!Loop_clients.Pensions__c})), TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>hasClientLevelRentCheck</name>
        <dataType>Boolean</dataType>
        <expression>IF({!hasClientLevelRent} || NOT(ISBLANK({!Loop_clients.Rent__c})), TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>isasFigurePrepopulated</name>
        <dataType>Currency</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.ISAs__c})), 
{!Get_household_details.ISAs__c}, 
IF({!hasClientLevelIsas}, 
{!isasSuggested}, 
NULL))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>A number version of this figure is needed for use in setting a null for the default as this can&#39;t be done with a currency formula.</description>
        <name>isasFigurePrepopulatedNumber</name>
        <dataType>Number</dataType>
        <expression>{!isasFigurePrepopulated}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>isasFrequencyPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.ISAs__c})), 
TEXT({!Get_household_details.ISAs_Frequency__c}), 
IF({!hasClientLevelIsas}, &quot;Monthly&quot;, NULL))</expression>
    </formulas>
    <formulas>
        <name>isasPersonMonthly</name>
        <dataType>Currency</dataType>
        <expression>IF(ISBLANK({!Loop_clients.ISAs__c}), 0, (CASE({!Loop_clients.ISAs_Frequency__c},
&quot;Weekly&quot;, {!Loop_clients.ISAs__c} * 52 / 12,
&quot;Monthly&quot;, {!Loop_clients.ISAs__c},
&quot;Annually&quot;, {!Loop_clients.ISAs__c} / 12,
{!Loop_clients.ISAs__c} )))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>isasPromptHouseholdLevel</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!Get_household_details.ISAs__c}), &quot;There is no ISAs figure recorded on the household right now.&quot;, &quot;There is an ISAs figure on the household of £&quot; + TEXT({!Get_household_details.ISAs__c}) + &quot; &quot; + TEXT({!Get_household_details.ISAs_Frequency__c}) + &quot;.&quot;)</expression>
    </formulas>
    <formulas>
        <name>isasPromptPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!isasFigurePrepopulated}), &quot;Based on this, we aren&#39;t able to suggest an ISAs figure.&quot;, &quot;Based on this, ISAs has been pre-populated at £&quot; + TEXT({!isasFigurePrepopulated}) + &quot; &quot; + {!isasFrequencyPrepopulated} + &quot;. You can change this below or click next to leave it as is.&quot;)</expression>
    </formulas>
    <formulas>
        <name>isasSuggestedPrompt</name>
        <dataType>String</dataType>
        <expression>IF({!hasClientLevelIsas}, &quot;Based on the person level ISAs figures, the household level might be £&quot; &amp; TEXT({!isasSuggested}) &amp; &quot; monthly.&quot;, &quot;There are no person level ISAs figures.&quot;)</expression>
    </formulas>
    <formulas>
        <name>otherInvestmentsFigurePrepopulated</name>
        <dataType>Currency</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Other_Investments__c})), 
{!Get_household_details.Other_Investments__c}, 
IF({!hasClientLevelOtherInvestments}, 
{!otherInvestmentsSuggested}, 
NULL))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>A number version of this figure is needed for use in setting a null for the default as this can&#39;t be done with a currency formula.</description>
        <name>otherInvestmentsFigurePrepopulatedNumber</name>
        <dataType>Number</dataType>
        <expression>{!otherInvestmentsFigurePrepopulated}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>otherInvestmentsFrequencyPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Other_Investments__c})), 
TEXT({!Get_household_details.Other_Investments_Frequency__c}), 
IF({!hasClientLevelOtherInvestments}, &quot;Monthly&quot;, NULL))</expression>
    </formulas>
    <formulas>
        <name>otherInvestmentsPersonMonthly</name>
        <dataType>Currency</dataType>
        <expression>IF(ISBLANK({!Loop_clients.Other_Investments__c}), 0, (CASE({!Loop_clients.Other_Investments_Frequency__c},
&quot;Weekly&quot;, {!Loop_clients.Other_Investments__c} * 52 / 12,
&quot;Monthly&quot;, {!Loop_clients.Other_Investments__c},
&quot;Annually&quot;, {!Loop_clients.Other_Investments__c} / 12,
{!Loop_clients.Other_Investments__c} )))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>otherInvestmentsPromptHouseholdLevel</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!Get_household_details.Other_Investments__c}), &quot;There are no other investments recorded on the household right now.&quot;, &quot;There is an other investments figure on the household of £&quot; + TEXT({!Get_household_details.Other_Investments__c}) + &quot; &quot; + TEXT({!Get_household_details.Other_Investments_Frequency__c}) + &quot;.&quot;)</expression>
    </formulas>
    <formulas>
        <name>otherInvestmentsPromptPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!otherInvestmentsFigurePrepopulated}), &quot;Based on this, we aren&#39;t able to suggest an other investments figure.&quot;, &quot;Based on this, the other investments figure has been pre-populated at £&quot; + TEXT({!otherInvestmentsFigurePrepopulated}) + &quot; &quot; + {!otherInvestmentsFrequencyPrepopulated} + &quot;. You can change this below or click next to leave it as is.&quot;)</expression>
    </formulas>
    <formulas>
        <name>otherInvestmentsSuggestedPrompt</name>
        <dataType>String</dataType>
        <expression>IF({!hasClientLevelOtherInvestments}, &quot;Based on the person level other investments figures, the household level might be £&quot; &amp; TEXT({!otherInvestmentsSuggested}) &amp; &quot; monthly.&quot;, &quot;There are no person level other investments figures.&quot;)</expression>
    </formulas>
    <formulas>
        <name>pensionsFigurePrepopulated</name>
        <dataType>Currency</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Pensions__c})), 
{!Get_household_details.Pensions__c}, 
IF({!hasClientLevelPensions}, 
{!pensionsSuggested}, 
NULL))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>A number version of this figure is needed for use in setting a null for the default as this can&#39;t be done with a currency formula.</description>
        <name>pensionsFigurePrepopulatedNumber</name>
        <dataType>Number</dataType>
        <expression>{!pensionsFigurePrepopulated}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>pensionsFrequencyPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Pensions__c})), 
TEXT({!Get_household_details.Pensions_Frequency__c}), 
IF({!hasClientLevelPensions}, &quot;Monthly&quot;, NULL))</expression>
    </formulas>
    <formulas>
        <name>pensionsPersonMonthly</name>
        <dataType>Currency</dataType>
        <expression>IF(ISBLANK({!Loop_clients.Pensions__c}), 0, (CASE({!Loop_clients.Pensions_Frequency__c},
&quot;Weekly&quot;, {!Loop_clients.Pensions__c} * 52 / 12,
&quot;Monthly&quot;, {!Loop_clients.Pensions__c},
&quot;Annually&quot;, {!Loop_clients.Pensions__c} / 12,
{!Loop_clients.Pensions__c} )))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>pensionsPromptHouseholdLevel</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!Get_household_details.Pensions__c}), &quot;There is no pensions figure recorded on the household right now.&quot;, &quot;There is a pensions figure on the household of £&quot; + TEXT({!Get_household_details.Pensions__c}) + &quot; &quot; + TEXT({!Get_household_details.Pensions_Frequency__c}) + &quot;.&quot;)</expression>
    </formulas>
    <formulas>
        <name>pensionsPromptPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!pensionsFigurePrepopulated}), &quot;Based on this, we aren&#39;t able to suggest a pensions figure.&quot;, &quot;Based on this, pensions has been pre-populated at £&quot; + TEXT({!pensionsFigurePrepopulated}) + &quot; &quot; + {!pensionsFrequencyPrepopulated} + &quot;. You can change this below or click next to leave it as is.&quot;)</expression>
    </formulas>
    <formulas>
        <name>pensionsSuggestedPrompt</name>
        <dataType>String</dataType>
        <expression>IF({!hasClientLevelPensions}, &quot;Based on the person level pensions figures, the household level might be £&quot; &amp; TEXT({!pensionsSuggested}) &amp; &quot; monthly.&quot;, &quot;There are no person level pensions figures.&quot;)</expression>
    </formulas>
    <formulas>
        <name>rentFigurePrepopulated</name>
        <dataType>Currency</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Rent__c})), 
{!Get_household_details.Rent__c}, 
IF({!hasClientLevelRent}, 
{!rentSuggested}, NULL))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>A number version of this figure is needed for use in setting a null for the default as this can&#39;t be done with a currency formula.</description>
        <name>rentFigurePrepopulatedNumber</name>
        <dataType>Number</dataType>
        <expression>{!rentFigurePrepopulated}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>rentFrequencyPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.Rent__c})), 
TEXT({!Get_household_details.Rent_Frequency__c}), 
IF({!hasClientLevelRent}, &quot;Monthly&quot;, NULL))</expression>
    </formulas>
    <formulas>
        <description>Sets a monthly figure for the person&#39;s rent</description>
        <name>rentPersonMonthly</name>
        <dataType>Currency</dataType>
        <expression>IF(ISNULL({!Loop_clients.Rent__c}), 0, (CASE({!Loop_clients.Rent_Frequency__c},
&quot;Weekly&quot;, {!Loop_clients.Rent__c} * 52 / 12,
&quot;Monthly&quot;, {!Loop_clients.Rent__c},
&quot;Annually&quot;, {!Loop_clients.Rent__c} / 12,
{!Loop_clients.Rent__c} )))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>rentPromptHouseholdLevel</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!Get_household_details.Rent__c}), &quot;There is no rent recorded on the household right now.&quot;, &quot;There is a rent figure on the household of £&quot; + TEXT({!Get_household_details.Rent__c}) + &quot; &quot; + TEXT({!Get_household_details.Rent_Frequency__c}) + &quot;.&quot;)</expression>
    </formulas>
    <formulas>
        <name>rentPromptPrepopulated</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!rentFigurePrepopulated}), &quot;Based on this, we aren&#39;t able to suggest a rent figure.&quot;, &quot;Based on this, the rent has been pre-populated at £&quot; + TEXT({!rentFigurePrepopulated}) + &quot; &quot; + {!rentFrequencyPrepopulated} + &quot;. You can change this below or click next to leave it as is.&quot;)</expression>
    </formulas>
    <formulas>
        <name>rentSuggestedPrompt</name>
        <dataType>String</dataType>
        <expression>IF({!hasClientLevelRent}, &quot;Based on the person level rent figures, the household level might be £&quot; &amp; TEXT({!rentSuggested}) &amp; &quot; monthly.&quot;, &quot;There are no person level rent figures.&quot;)</expression>
    </formulas>
    <formulas>
        <name>spendingPrompt</name>
        <dataType>String</dataType>
        <expression>IF(NOT(ISBLANK({!Get_household_details.OW_essential_spending__c})) || NOT(ISBLANK({!Get_household_details.OW_non_essential_spending__c})), 
&quot;There are already some figures at the household level, which are pre-populated here. &quot;,
&quot;We haven&#39;t yet captured any household level spending for the client.&quot;)</expression>
    </formulas>
    <interviewLabel>Account | Migrate spending / saving {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Account | Migrate spending / saving</label>
    <loops>
        <description>Loop the clients so suggested figures can be calculated</description>
        <name>Loop_clients</name>
        <label>Loop clients</label>
        <locationX>402</locationX>
        <locationY>518</locationY>
        <collectionReference>personAccounts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_person_s_contribution</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_spending_and_saving</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>Loop the clients so values can be cleared</description>
        <name>Loop_clients_clear_values</name>
        <label>Loop clients</label>
        <locationX>402</locationX>
        <locationY>1334</locationY>
        <collectionReference>personAccounts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Clear_account_variable</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_accounts</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <description>Get details of the household</description>
        <name>Get_household_details</name>
        <label>Get household details</label>
        <locationX>226</locationX>
        <locationY>158</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Validations_outstanding</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_accounts</name>
        <label>Update accounts</label>
        <locationX>402</locationX>
        <locationY>1910</locationY>
        <connector>
            <targetReference>Confirmation_screen</targetReference>
        </connector>
        <inputReference>accountsUpdate</inputReference>
    </recordUpdates>
    <screens>
        <name>Confirmation_screen</name>
        <label>Confirmation screen</label>
        <locationX>402</locationX>
        <locationY>2030</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Copy_1_of_Confirmation_message</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;All done!!&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Update_spending_and_saving</name>
        <label>Update spending and saving</label>
        <locationX>402</locationX>
        <locationY>854</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Update_spending_and_saving_confirmation</targetReference>
        </connector>
        <fields>
            <name>WarningPrompt</name>
            <fieldText>&lt;p&gt;This wizard will help you move spending and saving figures to the household but will clear all values for the following from the person account vofr:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;rent&lt;/li&gt;&lt;li&gt;cash&lt;/li&gt;&lt;li&gt;ISAs&lt;/li&gt;&lt;li&gt;pensions&lt;/li&gt;&lt;li&gt;other investments&lt;/li&gt;&lt;li&gt;giving&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;There is a section below for each of these figures that will tell you:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;if there is a value already on the household&lt;/li&gt;&lt;li&gt;if there are any values for the clients in the household and what they combine to&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;If there is a household level value, this is used as the default. If there are person level values, the combination will be suggested as a default. If there are neither of these, there will be no default suggested.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Note that where we currently have a spending/saving figure but no frequency to go with it, the wizard assumes it&#39;s monthly. This assumption may be incorrect.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_household_details.MigrationGiving__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Reviewed</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_household_details.MigrationSpendingSaving__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Reviewed</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>SpendingFiguresOneColumn</name>
            <fieldText>Spending</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>SpendingFiguresOneColumn_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>AdditionalOutgoings</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;The way we capture spending has changed. Previously, there was a single figure called &lt;strong&gt;additional outgoings&lt;/strong&gt; but we now capture 2 figures&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Essential spending&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Non-essential spending&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;{!additionalOutgoingsSuggestedPrompt}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>ClientSpending</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Account</typeValue>
                    </dataTypeMappings>
                    <extensionName>flowruntime:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Client spending</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectionMode</name>
                        <value>
                            <stringValue>NO_SELECTION</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>minRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>personAccounts</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>shouldDisplayLabel</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columns</name>
                        <value>
                            <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-a276&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Account Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;Additional_Monthly_Outgoings__c&quot;,&quot;guid&quot;:&quot;column-0225&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Additional Outgoings&quot;,&quot;type&quot;:&quot;currency&quot;},{&quot;apiName&quot;:&quot;Additional_Outgoings_Frequency__c&quot;,&quot;guid&quot;:&quot;column-efdb&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Additional Outgoings Frequency&quot;,&quot;type&quot;:&quot;text&quot;}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>hasClientLevelAdditionalOutgoings</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>SpendingPromptText</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!spendingPrompt}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_household_details.MigrationSpendingSaving__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Reviewed</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Update_spending_and_saving_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Update_spending_and_saving_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>EssentialSpending</name>
                    <dataType>Currency</dataType>
                    <defaultValue>
                        <elementReference>Get_household_details.OW_essential_spending__c</elementReference>
                    </defaultValue>
                    <fieldText>Essential spending</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                </fields>
                <fields>
                    <name>NonEssentialSpending</name>
                    <dataType>Currency</dataType>
                    <defaultValue>
                        <elementReference>Get_household_details.OW_non_essential_spending__c</elementReference>
                    </defaultValue>
                    <fieldText>Non-essential spending</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Update_spending_and_saving_Section2_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>EssentialSpendingFrequency</name>
                    <choiceReferences>frequencyChoiceSet</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_household_details.OW_essential_spending_frequency__c</elementReference>
                    </defaultValue>
                    <fieldText>Essential spending frequency</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>EssentialSpending</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>NonEssentialSpendingFrequency</name>
                    <choiceReferences>frequencyChoiceSet</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Get_household_details.OW_non_essential_spending_frequency__c</elementReference>
                    </defaultValue>
                    <fieldText>Non-essential spending frequency</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>NonEssentialSpending</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>RentFigure</name>
            <fieldText>Rent</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>RentFigure_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>RentPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!rentPromptHouseholdLevel}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!rentSuggestedPrompt}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>clientRentFigures</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Account</typeValue>
                    </dataTypeMappings>
                    <extensionName>flowruntime:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Client Rent Figures</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectionMode</name>
                        <value>
                            <stringValue>NO_SELECTION</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>minRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>personAccounts</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columns</name>
                        <value>
                            <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-9ef7&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Account Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;Rent__c&quot;,&quot;guid&quot;:&quot;column-0a6e&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Rent&quot;,&quot;type&quot;:&quot;currency&quot;},{&quot;apiName&quot;:&quot;Rent_Frequency__c&quot;,&quot;guid&quot;:&quot;column-4d18&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Rent Frequency&quot;,&quot;type&quot;:&quot;text&quot;}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>hasClientLevelRent</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>rentPrepopulatedPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;{!rentPromptPrepopulated}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_household_details.MigrationSpendingSaving__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Reviewed</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Update_spending_and_saving_Section4</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Update_spending_and_saving_Section4_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Rent</name>
                    <dataType>Currency</dataType>
                    <defaultValue>
                        <elementReference>rentFigurePrepopulatedNumber</elementReference>
                    </defaultValue>
                    <fieldText>Rent</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Update_spending_and_saving_Section4_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>RentFrequency</name>
                    <choiceReferences>frequencyChoiceSet</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>rentFrequencyPrepopulated</elementReference>
                    </defaultValue>
                    <fieldText>Rent frequency</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Rent</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>CashFigures</name>
            <fieldText>Cash</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>CashFigures_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>cashPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!cashPromptHouseholdLevel}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!cashSuggestedPrompt}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>clientCashFigures</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Account</typeValue>
                    </dataTypeMappings>
                    <extensionName>flowruntime:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Client cash figures</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectionMode</name>
                        <value>
                            <stringValue>NO_SELECTION</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>minRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>personAccounts</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columns</name>
                        <value>
                            <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-1a83&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Account Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;Cash__c&quot;,&quot;guid&quot;:&quot;column-2f00&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Cash&quot;,&quot;type&quot;:&quot;currency&quot;},{&quot;apiName&quot;:&quot;Cash_Frequency__c&quot;,&quot;guid&quot;:&quot;column-7d3f&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Cash Frequency&quot;,&quot;type&quot;:&quot;text&quot;}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>hasClientLevelCash</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>cashPrepopulatedPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;{!cashPromptPrepopulated}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_household_details.MigrationSpendingSaving__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Reviewed</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Update_spending_and_saving_Section6</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Update_spending_and_saving_Section6_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Cash</name>
                    <dataType>Currency</dataType>
                    <defaultValue>
                        <elementReference>cashFigurePrepopulatedNumber</elementReference>
                    </defaultValue>
                    <fieldText>Cash</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Update_spending_and_saving_Section6_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>CashFrequency</name>
                    <choiceReferences>frequencyChoiceSet</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>cashFrequencyPrepopulated</elementReference>
                    </defaultValue>
                    <fieldText>Cash frequency</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Cash</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>IsasFigures</name>
            <fieldText>ISAs</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>IsasFigures_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>isasPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!isasPromptHouseholdLevel}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!isasSuggestedPrompt}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>clientIsaFigures</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Account</typeValue>
                    </dataTypeMappings>
                    <extensionName>flowruntime:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Client ISA figures</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectionMode</name>
                        <value>
                            <stringValue>NO_SELECTION</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>minRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>personAccounts</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columns</name>
                        <value>
                            <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-8059&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Account Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;ISAs__c&quot;,&quot;guid&quot;:&quot;column-facf&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;ISAs&quot;,&quot;type&quot;:&quot;currency&quot;},{&quot;apiName&quot;:&quot;ISAs_Frequency__c&quot;,&quot;guid&quot;:&quot;column-4b73&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;ISAs Frequency&quot;,&quot;type&quot;:&quot;text&quot;}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>hasClientLevelIsas</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>isasPrepopulatedPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;{!isasPromptPrepopulated}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_household_details.MigrationSpendingSaving__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Reviewed</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Update_spending_and_saving_Section8</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Update_spending_and_saving_Section8_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>ISAs</name>
                    <dataType>Currency</dataType>
                    <defaultValue>
                        <elementReference>isasFigurePrepopulatedNumber</elementReference>
                    </defaultValue>
                    <fieldText>ISAs</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Update_spending_and_saving_Section8_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>ISAsFrequency</name>
                    <choiceReferences>frequencyChoiceSet</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>isasFrequencyPrepopulated</elementReference>
                    </defaultValue>
                    <fieldText>ISAs frequency</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>ISAs</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>PensionsFigures</name>
            <fieldText>Pensions</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>PensionsFigures_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>pensionsPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!pensionsPromptHouseholdLevel}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!pensionsSuggestedPrompt}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>clientPensionsFigures</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Account</typeValue>
                    </dataTypeMappings>
                    <extensionName>flowruntime:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Client pensions figures</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectionMode</name>
                        <value>
                            <stringValue>NO_SELECTION</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>minRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>personAccounts</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columns</name>
                        <value>
                            <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-29e8&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Account Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;Pensions__c&quot;,&quot;guid&quot;:&quot;column-3a7c&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Pensions&quot;,&quot;type&quot;:&quot;currency&quot;},{&quot;apiName&quot;:&quot;Pensions_Frequency__c&quot;,&quot;guid&quot;:&quot;column-7da6&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Pensions Frequency&quot;,&quot;type&quot;:&quot;text&quot;}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>hasClientLevelPensions</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>pensionsPrepopulatedPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;{!pensionsPromptPrepopulated}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_household_details.MigrationSpendingSaving__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Reviewed</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Update_spending_and_saving_Section10</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Update_spending_and_saving_Section10_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Pensions</name>
                    <dataType>Currency</dataType>
                    <defaultValue>
                        <elementReference>pensionsFigurePrepopulatedNumber</elementReference>
                    </defaultValue>
                    <fieldText>Pensions</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Update_spending_and_saving_Section10_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>PensionsFrequency</name>
                    <choiceReferences>frequencyChoiceSet</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>pensionsFrequencyPrepopulated</elementReference>
                    </defaultValue>
                    <fieldText>Pensions frequency</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Pensions</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>OtherInvestmentsFigures</name>
            <fieldText>Other Investments</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>OtherInvestmentsFigures_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>otherInvestmentsPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!otherInvestmentsPromptHouseholdLevel}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!otherInvestmentsSuggestedPrompt}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>otherInvestmentsClientFigures</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Account</typeValue>
                    </dataTypeMappings>
                    <extensionName>flowruntime:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Other investments client figures</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectionMode</name>
                        <value>
                            <stringValue>NO_SELECTION</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>minRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>personAccounts</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columns</name>
                        <value>
                            <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-8e32&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Account Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;Other_Investments__c&quot;,&quot;guid&quot;:&quot;column-7987&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Other Investments&quot;,&quot;type&quot;:&quot;currency&quot;},{&quot;apiName&quot;:&quot;Other_Investments_Frequency__c&quot;,&quot;guid&quot;:&quot;column-c573&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Other Investments Frequency&quot;,&quot;type&quot;:&quot;text&quot;}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>hasClientLevelOtherInvestments</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>otherInvestmentsPrepopulatedPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;{!otherInvestmentsPromptPrepopulated}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_household_details.MigrationSpendingSaving__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Reviewed</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Update_spending_and_saving_Section12</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Update_spending_and_saving_Section12_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>OtherInvestments</name>
                    <dataType>Currency</dataType>
                    <defaultValue>
                        <elementReference>otherInvestmentsFigurePrepopulatedNumber</elementReference>
                    </defaultValue>
                    <fieldText>Other investments</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>false</isRequired>
                    <scale>0</scale>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Update_spending_and_saving_Section12_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>OtherInvestmentsFrequency</name>
                    <choiceReferences>frequencyChoiceSet</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>otherInvestmentsFrequencyPrepopulated</elementReference>
                    </defaultValue>
                    <fieldText>Other investments frequency</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>OtherInvestments</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>Giving</name>
            <fieldText>Giving</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Giving_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>GivingPrompt</name>
                    <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;We now capture giving at the household level whereas before it was at the person account level.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!givingHouseholdPrompt}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>GivingTable</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Account</typeValue>
                    </dataTypeMappings>
                    <extensionName>flowruntime:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Giving table</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectionMode</name>
                        <value>
                            <stringValue>NO_SELECTION</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>minRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>personAccounts</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxRowSelection</name>
                        <value>
                            <numberValue>0.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columns</name>
                        <value>
                            <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-be6b&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Account Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;Giving__c&quot;,&quot;guid&quot;:&quot;column-e6a1&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Giving&quot;,&quot;type&quot;:&quot;text&quot;}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>GivingInput</name>
                    <defaultValue>
                        <stringValue>{!givingSuggested}</stringValue>
                    </defaultValue>
                    <fieldText>Giving</fieldText>
                    <fieldType>LargeTextArea</fieldType>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>hasClientLevelGiving</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Update_spending_and_saving_confirmation</name>
        <label>Update spending and saving confirmation</label>
        <locationX>402</locationX>
        <locationY>974</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Set_household_values_to_inputs</targetReference>
        </connector>
        <fields>
            <name>Confirmation_message</name>
            <fieldText>&lt;p&gt;You have recorded the following household level information. &lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Clicking next will save these changes and clear the equivalent information from the records of the clients in the household. &lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Essential spending: &lt;/strong&gt;{!EssentialSpending} {!EssentialSpendingFrequency}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Non-essential spending: &lt;/strong&gt;{!NonEssentialSpending} {!NonEssentialSpendingFrequency}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Rent: &lt;/strong&gt;{!Rent} {!RentFrequency}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Cash:&lt;/strong&gt; {!Cash} {!CashFrequency}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ISAs:&lt;/strong&gt; {!ISAs} {!ISAsFrequency}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Pensions:&lt;/strong&gt; {!Pensions} {!PensionsFrequency}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Other investments:&lt;/strong&gt; {!OtherInvestments} {!OtherInvestmentsFrequency}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Giving: &lt;/strong&gt;{!GivingInput}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Validations_outstanding_screen</name>
        <label>Validations outstanding screen</label>
        <locationX>50</locationX>
        <locationY>398</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ValidationsOutstandingMessage</name>
            <fieldText>&lt;p&gt;There are validations outstanding on this household. These must be resolved prior to updating the spending and saving information. &lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>100</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_household_details</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <description>Gets the details of the clients in the household.</description>
        <name>Get_client_records</name>
        <label>Get client records</label>
        <locationX>402</locationX>
        <locationY>398</locationY>
        <connector>
            <targetReference>Loop_clients</targetReference>
        </connector>
        <flowName>AccountGetPeopleInHousehold</flowName>
        <inputAssignments>
            <name>householdId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>role</name>
            <value>
                <stringValue>Client</stringValue>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>personAccounts</assignToReference>
            <name>personAccounts</name>
        </outputAssignments>
    </subflows>
    <variables>
        <description>Stores the details of accounts that need to be updated temporarily prior to them being added to the collection.</description>
        <name>account</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <description>Stores details of the accounts to be updated</description>
        <name>accountsUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>additionalOutgoingsSuggested</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>cashSuggested</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>givingSuggestedClientLevelCombined</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>hasClientLevelAdditionalOutgoings</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>hasClientLevelCash</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>hasClientLevelGiving</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>hasClientLevelIsas</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>hasClientLevelOtherInvestments</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>hasClientLevelPensions</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>hasClientLevelRent</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>isasSuggested</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>otherInvestmentsSuggested</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>pensionsSuggested</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <description>Stores the person accounts of the clients in the household</description>
        <name>personAccounts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>rentSuggested</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
</Flow>
