<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>57.0</apiVersion>
    <assignments>
        <name>Assign_rec_status</name>
        <label>Assign rec status</label>
        <locationX>3355</locationX>
        <locationY>350</locationY>
        <assignmentItems>
            <assignToReference>recStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_recommendation.Status__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Has_the_recommendation_been_accepted</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_status</name>
        <label>Assign status to ready</label>
        <locationX>1634</locationX>
        <locationY>2306</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Submit forms</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Assign_status_to_NTU</name>
        <label>Assign status to NTU</label>
        <locationX>3746</locationX>
        <locationY>650</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Not taken up</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Assign_status</name>
        <label>Assign status to on hold</label>
        <locationX>1898</locationX>
        <locationY>2306</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Assign_status_to_on_hold</name>
        <label>Assign status to on hold</label>
        <locationX>1370</locationX>
        <locationY>2414</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Assign_status_to_ready</name>
        <label>Assign status to ready</label>
        <locationX>1106</locationX>
        <locationY>2414</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Submit forms</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Copy_1_of_Assign_status_to_on_hold</name>
        <label>Assign status to on hold</label>
        <locationX>842</locationX>
        <locationY>2414</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Copy_1_of_Assign_status_to_ready</name>
        <label>Assign status to ready</label>
        <locationX>578</locationX>
        <locationY>2414</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Submit forms</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Copy_5_of_Assign_status_to_on_hold</name>
        <label>Copy 1 of Copy 5 of Assign status to on hold</label>
        <locationX>2426</locationX>
        <locationY>1406</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_count</name>
        <label>Copy 1 of count</label>
        <locationX>2558</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>count</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Open_tasks</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Copy_1_of_Are_any_open</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_2_of_Assign_status_to_on_hold</name>
        <label>Assign status to on hold</label>
        <locationX>2162</locationX>
        <locationY>866</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_2_of_Copy_1_of_Assign_status_to_on_hold</name>
        <label>Assign status to on hold</label>
        <locationX>314</locationX>
        <locationY>2522</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_2_of_Copy_1_of_Assign_status_to_ready</name>
        <label>Assign status to ready</label>
        <locationX>50</locationX>
        <locationY>2522</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Submit forms</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_2_of_Copy_5_of_Assign_status_to_on_hold</name>
        <label>Copy 2 of Copy 5 of Assign status to on hold</label>
        <locationX>2954</locationX>
        <locationY>1082</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_3_of_Assign_status_to_on_hold</name>
        <label>Assign status to on hold</label>
        <locationX>919</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_4_of_Assign_status_to_on_hold</name>
        <label>Assign status to on hold</label>
        <locationX>479</locationX>
        <locationY>1514</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_5_of_Assign_status_to_on_hold</name>
        <label>Copy 5 of Assign status to on hold</label>
        <locationX>3218</locationX>
        <locationY>866</locationY>
        <assignmentItems>
            <assignToReference>status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On hold</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>count2</name>
        <label>count</label>
        <locationX>611</locationX>
        <locationY>1298</locationY>
        <assignmentItems>
            <assignToReference>count</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Open_tasks</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Are_any_open</targetReference>
        </connector>
    </assignments>
    <collectionProcessors>
        <name>Copy_1_of_Open_tasks</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Copy 1 of Open tasks</label>
        <locationX>2558</locationX>
        <locationY>1082</locationY>
        <assignNextValueToReference>currentItem_Open_tasks</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_any_forms_tasks</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Open_tasks.IsClosed</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>false</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Copy_1_of_count</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Open_tasks</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Open tasks</label>
        <locationX>611</locationX>
        <locationY>1190</locationY>
        <assignNextValueToReference>currentItem_Open_tasks</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_any_forms_tasks</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Open_tasks.IsClosed</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>false</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>count2</targetReference>
        </connector>
    </collectionProcessors>
    <decisions>
        <name>Are_any_open</name>
        <label>Are any open?</label>
        <locationX>611</locationX>
        <locationY>1406</locationY>
        <defaultConnector>
            <targetReference>Is_there_a_pre_requisite</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesOpenTasks</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>count</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_4_of_Assign_status_to_on_hold</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_they_ready</name>
        <label>Are they ready?</label>
        <locationX>182</locationX>
        <locationY>2414</locationY>
        <defaultConnector>
            <targetReference>Copy_2_of_Copy_1_of_Assign_status_to_on_hold</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Copy_2_of_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Copy_1_of_Get_source.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Submit forms</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_destination.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Submit forms</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_2_of_Copy_1_of_Assign_status_to_ready</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_1_of_Are_any_open</name>
        <label>Copy 1 of Are any open?</label>
        <locationX>2558</locationX>
        <locationY>1298</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Is_there_a_pre_requisite</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Copy_6_of_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>count</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Copy_5_of_Assign_status_to_on_hold</targetReference>
            </connector>
            <label>Copy 6 of Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_1_of_Do_any_tasks_exist</name>
        <label>Copy 1 of Do any tasks exist?</label>
        <locationX>2756</locationX>
        <locationY>974</locationY>
        <defaultConnector>
            <targetReference>Copy_2_of_Copy_5_of_Assign_status_to_on_hold</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Copy_5_of_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_any_forms_tasks</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Open_tasks</targetReference>
            </connector>
            <label>Copy 5 of Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_1_of_Has_the_earliest_fulfilment_date_passed</name>
        <label>Copy 1 of Has the earliest fulfilment date passed?</label>
        <locationX>2987</locationX>
        <locationY>758</locationY>
        <defaultConnector>
            <targetReference>Copy_5_of_Assign_status_to_on_hold</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Copy_4_of_Yes</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_recommendation.EarliestFulfilmentDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_recommendation.EarliestFulfilmentDate__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Get_any_forms_tasks</targetReference>
            </connector>
            <label>Copy 4 of Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_1_of_Is_there_a_pre_requisite_source</name>
        <label>Is there a pre-requisite source?</label>
        <locationX>446</locationX>
        <locationY>2198</locationY>
        <defaultConnector>
            <targetReference>Copy_2_of_Is_it_ready</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_recommendation.PreRequisiteRecommendationSource__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Get_source</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_2_of_Is_it_ready</name>
        <label>Is it ready</label>
        <locationX>710</locationX>
        <locationY>2306</locationY>
        <defaultConnector>
            <targetReference>Copy_1_of_Copy_1_of_Assign_status_to_on_hold</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Copy_3_of_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_destination.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Submit forms</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Copy_1_of_Assign_status_to_ready</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Do_any_tasks_exist</name>
        <label>Do any tasks exist?</label>
        <locationX>765</locationX>
        <locationY>1082</locationY>
        <defaultConnector>
            <targetReference>Copy_3_of_Assign_status_to_on_hold</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesTasks</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_any_forms_tasks</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Open_tasks</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_the_earliest_fulfilment_date_passed</name>
        <label>Has the earliest fulfilment date passed?</label>
        <locationX>1568</locationX>
        <locationY>758</locationY>
        <defaultConnector>
            <targetReference>Copy_2_of_Assign_status_to_on_hold</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesDatePassed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_recommendation.EarliestFulfilmentDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_recommendation.EarliestFulfilmentDate__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_it_a_transfer_in</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_the_recommendation_been_accepted</name>
        <label>Has the recommendation been accepted?</label>
        <locationX>3267</locationX>
        <locationY>542</locationY>
        <defaultConnectorLabel>Default</defaultConnectorLabel>
        <rules>
            <name>YesAccepted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recStatus</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Accepted</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>What_kind_of_product_is_this_for</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
        <rules>
            <name>No</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_recommendation.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Declined</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_status_to_NTU</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Have_we_been_provided_a_recommendation_status</name>
        <label>Have we been provided a recommendation status?</label>
        <locationX>3267</locationX>
        <locationY>242</locationY>
        <defaultConnector>
            <targetReference>Assign_rec_status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesStatusProvided</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recStatus</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_the_recommendation_been_accepted</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Have_we_received_bank_details</name>
        <label>Have we received bank details?</label>
        <locationX>1766</locationX>
        <locationY>2198</locationY>
        <defaultConnector>
            <targetReference>Copy_1_of_Assign_status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesBankDetails</name>
            <conditionLogic>(1 AND (2 OR 3)) OR (4 AND 5) OR 6</conditionLogic>
            <conditions>
                <leftValueReference>fulfilment.Destination__r.FinServ__PrimaryOwner__r.Bank_Account_Number__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>fulfilment.Destination__r.FinServ__JointOwner__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>fulfilment.Destination__r.FinServ__JointOwner__r.Bank_Account_Number__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_recommendation.RegisteredContact__r.Bank_Account_Number__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_recommendation.RegisteredContact__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_recommendation.DestinationLegacy__r.FinServ__RecordTypeName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Junior ISA</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_status</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_it_a_transfer_in</name>
        <label>Is it a transfer in?</label>
        <locationX>974</locationX>
        <locationY>866</locationY>
        <defaultConnector>
            <targetReference>Is_there_a_pre_requisite</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesTransferIn</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_recommendation.RecommendationTypeName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>External transfer in</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_any_forms_tasks</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_it_ready</name>
        <label>Is it ready?</label>
        <locationX>1238</locationX>
        <locationY>2306</locationY>
        <defaultConnector>
            <targetReference>Copy_1_of_Assign_status_to_on_hold</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesSOurceReadyNoDest</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_source.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Submit forms</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Assign_status_to_ready</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_there_a_pre_requisite</name>
        <label>Is there a pre-requisite destination?</label>
        <locationX>974</locationX>
        <locationY>1982</locationY>
        <defaultConnector>
            <targetReference>Is_there_a_pre_requisite_source</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_recommendation.PreRequisiteRecommendation__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_destination</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_there_a_pre_requisite_source</name>
        <label>Is there a pre-requisite source?</label>
        <locationX>1502</locationX>
        <locationY>2090</locationY>
        <defaultConnector>
            <targetReference>Have_we_received_bank_details</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesPreReqSource</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_recommendation.PreRequisiteRecommendationSource__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_source</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>What_kind_of_product_is_this_for</name>
        <label>What kind of product is this for?</label>
        <locationX>2525</locationX>
        <locationY>650</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>ISA_GIA</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>fulfilment.Destination__r.FinServ__RecordTypeName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Stocks &amp; Shares ISA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>fulfilment.Destination__r.FinServ__RecordTypeName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>GIA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>fulfilment.Destination__r.FinServ__RecordTypeName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Junior ISA</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_the_earliest_fulfilment_date_passed</targetReference>
            </connector>
            <label>ISA/GIA</label>
        </rules>
        <rules>
            <name>SIPP</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_recommendation.DestinationLegacy__r.FinServ__RecordTypeName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>SIPP</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Has_the_earliest_fulfilment_date_passed</targetReference>
            </connector>
            <label>SIPP</label>
        </rules>
    </decisions>
    <description>This flow calculates what status a piece of old process fulfilment should be in. Should be deactivated when all v2 fulfilment has been completed.</description>
    <environments>Default</environments>
    <interviewLabel>Fulfilment - calculate status {!$Flow.CurrentDateTime}</interviewLabel>
    <label>zOLDPROCESS Fulfilment - calculate status</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Copy_1_of_Get_any_forms_tasks</name>
        <label>Copy 1 of Get any forms tasks</label>
        <locationX>2756</locationX>
        <locationY>866</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Copy_1_of_Do_any_tasks_exist</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3)</filterLogic>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fulfilment.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>OW_task_information_name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>send_transfer_forms</stringValue>
            </value>
        </filters>
        <filters>
            <field>OW_task_information_name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>chase_transfer_forms</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Copy_1_of_Get_source</name>
        <label>Get source</label>
        <locationX>182</locationX>
        <locationY>2306</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Are_they_ready</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Recommendation__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fulfilment.Recommendation__r.PreRequisiteRecommendationSource__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Fulfillment__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_any_forms_tasks</name>
        <label>Get any forms tasks</label>
        <locationX>765</locationX>
        <locationY>974</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Do_any_tasks_exist</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3)</filterLogic>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fulfilment.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>OW_task_information_name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>send_transfer_forms</stringValue>
            </value>
        </filters>
        <filters>
            <field>OW_task_information_name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>chase_transfer_forms</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_destination</name>
        <label>Get destination</label>
        <locationX>446</locationX>
        <locationY>2090</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Copy_1_of_Is_there_a_pre_requisite_source</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Recommendation__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fulfilment.Recommendation__r.PreRequisiteRecommendation__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Fulfillment__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_recommendation</name>
        <label>Get recommendation</label>
        <locationX>3267</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Have_we_been_provided_a_recommendation_status</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fulfilment.Recommendation__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Recommendation__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_source</name>
        <label>Get source</label>
        <locationX>1238</locationX>
        <locationY>2198</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_it_ready</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Recommendation__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fulfilment.Recommendation__r.PreRequisiteRecommendationSource__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Fulfillment__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <start>
        <locationX>3141</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_recommendation</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>count</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>currentItem_Open_tasks</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Task</objectType>
    </variables>
    <variables>
        <name>fulfilment</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Fulfillment__c</objectType>
    </variables>
    <variables>
        <name>recStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>status</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
